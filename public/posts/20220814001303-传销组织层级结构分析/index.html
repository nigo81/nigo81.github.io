<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ - é€†è¡Œçš„ç‹—</title><meta name="Description" content="nigoçš„ä¸ªäººåšå®¢"><meta property="og:title" content="ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ" />
<meta property="og:description" content="å‰å‡ å¤©ä¸€ä¸ªç½‘å‹å‘äº†ä¸€ä¸ªä¼ é”€ç»„ç»‡çš„æ•°æ®ï¼Œä»–æƒ³æ±‚æ¯ä¸ªå±‚çº§çš„äººæ•°ã€‚
Figure 1: å›¾1
è¿™ä¸¤å¤©æ­£å¥½å­¦äº†networkxï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚æœç”¨ç½‘ç»œåˆ†æè§£å†³è¿™ä¸ªé—®é¢˜ã€‚
Figure 2: å›¾2
è¿™æ˜¯æ•´ä¸ªæ¨èå…³ç³»çš„å¯è§†åŒ–ç½‘ç»œå›¾ã€‚å…¶ä¸­æ­£çº¢è‰²çš„ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ã€‚
ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥è§£å†³ã€‚
è¯»å–æ•°æ®å¹¶åˆ›å»ºç½‘ç»œ æˆ‘ä»¬ä½¿ç”¨pandasè¯»å– excel æ•°æ®ï¼Œå¹¶ç”¨nx.from_pandas_edgelist(df,source,target,edge_attr,create_using)å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå›¾=G=ã€‚
è¿™ä¸ªå‡½æ•°æ˜¯æ ¹æ®è¾¹æ•°æ®æ¥åˆ›å»ºå›¾ï¼Œå…¶ä¸­ï¼š
source:dfä¸­è¡¨ç¤ºè¾¹èµ·å§‹çš„åˆ—åï¼ˆæ¨èäººï¼‰ã€‚ target:dfä¸­è¡¨ç¤ºè¾¹ç›®æ ‡çš„åˆ—åï¼ˆè¢«æ¨èäººï¼‰ã€‚ edge\_attr:dfä¸­è¡¨ç¤ºè¾¹å±æ€§çš„åˆ—åï¼ˆå¦‚æƒé‡ï¼Œé¢œè‰²ï¼Œå¤§å°ç­‰ï¼‰ã€‚ create\_using:è¡¨ç¤ºåˆ›å»ºä»€ä¹ˆç±»å‹çš„å›¾ï¼Œæ— å‘å›¾ï¼Œæœ‰å‘å›¾ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ‰å‘å›¾=DiGraph=,å› ä¸ºæ¨èå…³ç³»æ˜¯æœ‰æ–¹å‘çš„ã€‚ import networkx as nx import pandas as pd # è¯»å–æ•°æ®åˆ›å»ºå›¾ df = pd.read_excel(&#39;~/ä¼ é”€åŸå§‹æ•°æ®.xlsx&#39;) df = df.loc[:, [&#39;æ¨èäººID&#39;, &#39;è¢«æ¨èäººID&#39;]] df.columns = [&#39;source&#39;, &#39;target&#39;] G = nx.from_pandas_edgelist(df, &#39;source&#39;, &#39;target&#39;, create_using=nx.DiGraph()) å½“ç„¶è¿™æ ·åˆ›å»ºçš„å›¾=G=åªæ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–ï¼Œå¹¶ä¸ä¸€å¼ çœŸæ­£å¯è§†åŒ–çš„å›¾ã€‚å¦‚æœä½ æƒ³å¯è§†åŒ–å®ƒï¼Œå¯ä»¥ä½¿ç”¨=pyvis=åŒ…è¿›è¡Œï¼Œå®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªå¯äº¤äº’çš„ç½‘ç»œå›¾ã€‚
from pyvis.network import Network nt = Network(&#39;650px&#39;, &#39;1250px&#39;, directed=True) nt.from_nx(G) nt.show(&#39;test.html&#39;) è¿™å°†ä¼šç”Ÿæˆå¦‚å›¾ 2 æ‰€ç¤ºçš„ç½‘ç»œå›¾ã€‚
æ‰¾åˆ°æ ¹èŠ‚ç‚¹ è€ƒè™‘åˆ°è¿™ä¸ªç½‘ç»œæ˜¯ä¸€ä¸ªä¼ é”€ç»„ç»‡ï¼Œé‚£ä¹ˆæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ‰ä¸ªå”¯ä¸€çš„æ ¹èŠ‚ç‚¹ï¼Œæ•´ä¸ªç»„ç»‡ç±»ä¼¼æ ‘çŠ¶ç»“æ„ã€‚
æˆ‘ä»¬å…ˆå¾—æ‰¾åˆ°è¿™ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ€ä¹ˆæ‰¾å‘¢ï¼Ÿ
è¿™å°±éœ€è¦å…ˆå¼•ä¸€ä¸ªå›¾è®ºä¸­çš„æ¦‚å¿µåº¦ï¼Œåº¦çš„æ„æ€å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹çš„æ•°é‡ã€‚
Figure 3: å›¾3
å¦‚å›¾ 3 æ‰€ç¤ºï¼Œå¦‚æœä¸è€ƒè™‘è¾¹çš„æ–¹å‘ï¼Œé‚£ç‚¹èŠ‚ç‚¹ 1 æœ‰4ä¸ªç›¸é‚»èŠ‚ç‚¹ï¼ˆæœ‰è¾¹ç›¸è¿ï¼‰ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ 1 çš„åº¦å°±æ˜¯ 4 ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-02-11T15:42:36+08:00" /><meta property="og:site_name" content="é€†è¡Œçš„ç‹—" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ"/>
<meta name="twitter:description" content="å‰å‡ å¤©ä¸€ä¸ªç½‘å‹å‘äº†ä¸€ä¸ªä¼ é”€ç»„ç»‡çš„æ•°æ®ï¼Œä»–æƒ³æ±‚æ¯ä¸ªå±‚çº§çš„äººæ•°ã€‚
Figure 1: å›¾1
è¿™ä¸¤å¤©æ­£å¥½å­¦äº†networkxï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚æœç”¨ç½‘ç»œåˆ†æè§£å†³è¿™ä¸ªé—®é¢˜ã€‚
Figure 2: å›¾2
è¿™æ˜¯æ•´ä¸ªæ¨èå…³ç³»çš„å¯è§†åŒ–ç½‘ç»œå›¾ã€‚å…¶ä¸­æ­£çº¢è‰²çš„ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ã€‚
ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥è§£å†³ã€‚
è¯»å–æ•°æ®å¹¶åˆ›å»ºç½‘ç»œ æˆ‘ä»¬ä½¿ç”¨pandasè¯»å– excel æ•°æ®ï¼Œå¹¶ç”¨nx.from_pandas_edgelist(df,source,target,edge_attr,create_using)å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå›¾=G=ã€‚
è¿™ä¸ªå‡½æ•°æ˜¯æ ¹æ®è¾¹æ•°æ®æ¥åˆ›å»ºå›¾ï¼Œå…¶ä¸­ï¼š
source:dfä¸­è¡¨ç¤ºè¾¹èµ·å§‹çš„åˆ—åï¼ˆæ¨èäººï¼‰ã€‚ target:dfä¸­è¡¨ç¤ºè¾¹ç›®æ ‡çš„åˆ—åï¼ˆè¢«æ¨èäººï¼‰ã€‚ edge\_attr:dfä¸­è¡¨ç¤ºè¾¹å±æ€§çš„åˆ—åï¼ˆå¦‚æƒé‡ï¼Œé¢œè‰²ï¼Œå¤§å°ç­‰ï¼‰ã€‚ create\_using:è¡¨ç¤ºåˆ›å»ºä»€ä¹ˆç±»å‹çš„å›¾ï¼Œæ— å‘å›¾ï¼Œæœ‰å‘å›¾ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ‰å‘å›¾=DiGraph=,å› ä¸ºæ¨èå…³ç³»æ˜¯æœ‰æ–¹å‘çš„ã€‚ import networkx as nx import pandas as pd # è¯»å–æ•°æ®åˆ›å»ºå›¾ df = pd.read_excel(&#39;~/ä¼ é”€åŸå§‹æ•°æ®.xlsx&#39;) df = df.loc[:, [&#39;æ¨èäººID&#39;, &#39;è¢«æ¨èäººID&#39;]] df.columns = [&#39;source&#39;, &#39;target&#39;] G = nx.from_pandas_edgelist(df, &#39;source&#39;, &#39;target&#39;, create_using=nx.DiGraph()) å½“ç„¶è¿™æ ·åˆ›å»ºçš„å›¾=G=åªæ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–ï¼Œå¹¶ä¸ä¸€å¼ çœŸæ­£å¯è§†åŒ–çš„å›¾ã€‚å¦‚æœä½ æƒ³å¯è§†åŒ–å®ƒï¼Œå¯ä»¥ä½¿ç”¨=pyvis=åŒ…è¿›è¡Œï¼Œå®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªå¯äº¤äº’çš„ç½‘ç»œå›¾ã€‚
from pyvis.network import Network nt = Network(&#39;650px&#39;, &#39;1250px&#39;, directed=True) nt.from_nx(G) nt.show(&#39;test.html&#39;) è¿™å°†ä¼šç”Ÿæˆå¦‚å›¾ 2 æ‰€ç¤ºçš„ç½‘ç»œå›¾ã€‚
æ‰¾åˆ°æ ¹èŠ‚ç‚¹ è€ƒè™‘åˆ°è¿™ä¸ªç½‘ç»œæ˜¯ä¸€ä¸ªä¼ é”€ç»„ç»‡ï¼Œé‚£ä¹ˆæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ‰ä¸ªå”¯ä¸€çš„æ ¹èŠ‚ç‚¹ï¼Œæ•´ä¸ªç»„ç»‡ç±»ä¼¼æ ‘çŠ¶ç»“æ„ã€‚
æˆ‘ä»¬å…ˆå¾—æ‰¾åˆ°è¿™ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ€ä¹ˆæ‰¾å‘¢ï¼Ÿ
è¿™å°±éœ€è¦å…ˆå¼•ä¸€ä¸ªå›¾è®ºä¸­çš„æ¦‚å¿µåº¦ï¼Œåº¦çš„æ„æ€å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹çš„æ•°é‡ã€‚
Figure 3: å›¾3
å¦‚å›¾ 3 æ‰€ç¤ºï¼Œå¦‚æœä¸è€ƒè™‘è¾¹çš„æ–¹å‘ï¼Œé‚£ç‚¹èŠ‚ç‚¹ 1 æœ‰4ä¸ªç›¸é‚»èŠ‚ç‚¹ï¼ˆæœ‰è¾¹ç›¸è¿ï¼‰ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ 1 çš„åº¦å°±æ˜¯ 4 ã€‚"/>
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" /><link rel="prev" href="https://nigo81.github.io/posts/20220814214405-%E7%8B%97%E5%93%A5%E5%8E%BB%E7%85%A7%E7%9B%B8%E9%A6%86/" /><link rel="next" href="https://nigo81.github.io/posts/20220814214721-%E8%B6%85%E8%83%BD%E8%8B%B1%E9%9B%84/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/nigo81.github.io\/posts\/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90\/"
        },"genre": "posts","keywords": "ç½‘ç»œåˆ†æ, python, ITå®¡è®¡","wordcount":  456 ,
        "url": "https:\/\/nigo81.github.io\/posts\/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90\/","datePublished": "2022-08-14T00:00:00+00:00","dateModified": "2023-02-11T15:42:36+08:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "nigo"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="é€†è¡Œçš„ç‹—"><span class="header-title-pre">ğŸ¶</span>é€†è¡Œçš„ç‹—</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> æ‰€æœ‰æ–‡ç«  </a><a class="menu-item" href="/tags/"> æ ‡ç­¾ </a><a class="menu-item" href="/categories/"> åˆ†ç±» </a><a class="menu-item" href="/about/"> å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="æœç´¢">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="é€†è¡Œçš„ç‹—"><span class="header-title-pre">ğŸ¶</span>é€†è¡Œçš„ç‹—</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="æœç´¢">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="æ¸…ç©º">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        å–æ¶ˆ
                    </a>
                </div><a class="menu-item" href="/posts/" title="">æ‰€æœ‰æ–‡ç« </a><a class="menu-item" href="/tags/" title="">æ ‡ç­¾</a><a class="menu-item" href="/categories/" title="">åˆ†ç±»</a><a class="menu-item" href="/about/" title="">å…³äº</a><a href="javascript:void(0);" class="menu-item theme-switch" title="åˆ‡æ¢ä¸»é¢˜">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">ç›®å½•</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>nigo</a></span>&nbsp;<span class="post-category">æ”¶å½•äº <a href="/categories/%E5%B7%A5%E4%BD%9C/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>å·¥ä½œ</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-08-14">2022-08-14</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;çº¦ 456 å­—&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;é¢„è®¡é˜…è¯» 3 åˆ†é’Ÿ&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>ç›®å½•</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#è¯»å–æ•°æ®å¹¶åˆ›å»ºç½‘ç»œ">è¯»å–æ•°æ®å¹¶åˆ›å»ºç½‘ç»œ</a></li>
    <li><a href="#æ‰¾åˆ°æ ¹èŠ‚ç‚¹">æ‰¾åˆ°æ ¹èŠ‚ç‚¹</a></li>
    <li><a href="#è®¡ç®—ç½‘ç»œå±‚çº§å…³ç³»">è®¡ç®—ç½‘ç»œå±‚çº§å…³ç³»</a></li>
    <li><a href="#ä¸‹çº¿å‰10çš„èŠ‚ç‚¹">ä¸‹çº¿å‰10çš„èŠ‚ç‚¹</a></li>
    <li><a href="#æœ€å¤§ä»‹ç»top10">æœ€å¤§ä»‹ç»top10</a></li>
    <li><a href="#å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </a></li>
    <li><a href="#ç»“è¯­">ç»“è¯­</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>å‰å‡ å¤©ä¸€ä¸ªç½‘å‹å‘äº†ä¸€ä¸ªä¼ é”€ç»„ç»‡çš„æ•°æ®ï¼Œä»–æƒ³æ±‚æ¯ä¸ªå±‚çº§çš„äººæ•°ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-22-43-14.png"
         alt="Figure 1: å›¾1"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 1: <!-- raw HTML omitted -->å›¾1</p>
        </figcaption>
</figure>

<p>è¿™ä¸¤å¤©æ­£å¥½å­¦äº†<code>networkx</code>ï¼Œæˆ‘ä»¬æ¥çœ‹å¦‚æœç”¨ç½‘ç»œåˆ†æè§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-22-44-58.png"
         alt="Figure 2: å›¾2"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 2: <!-- raw HTML omitted -->å›¾2</p>
        </figcaption>
</figure>

<p>è¿™æ˜¯æ•´ä¸ªæ¨èå…³ç³»çš„å¯è§†åŒ–ç½‘ç»œå›¾ã€‚å…¶ä¸­æ­£çº¢è‰²çš„ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥è§£å†³ã€‚</p>
<h2 id="è¯»å–æ•°æ®å¹¶åˆ›å»ºç½‘ç»œ">è¯»å–æ•°æ®å¹¶åˆ›å»ºç½‘ç»œ</h2>
<p>æˆ‘ä»¬ä½¿ç”¨<code>pandas</code>è¯»å– excel æ•°æ®ï¼Œå¹¶ç”¨<code>nx.from_pandas_edgelist(df,source,target,edge_attr,create_using)</code>å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªå›¾=G=ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°æ˜¯æ ¹æ®è¾¹æ•°æ®æ¥åˆ›å»ºå›¾ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li>source:dfä¸­è¡¨ç¤ºè¾¹èµ·å§‹çš„åˆ—åï¼ˆæ¨èäººï¼‰ã€‚</li>
<li>target:dfä¸­è¡¨ç¤ºè¾¹ç›®æ ‡çš„åˆ—åï¼ˆè¢«æ¨èäººï¼‰ã€‚</li>
<li>edge\_attr:dfä¸­è¡¨ç¤ºè¾¹å±æ€§çš„åˆ—åï¼ˆå¦‚æƒé‡ï¼Œé¢œè‰²ï¼Œå¤§å°ç­‰ï¼‰ã€‚</li>
<li>create\_using:è¡¨ç¤ºåˆ›å»ºä»€ä¹ˆç±»å‹çš„å›¾ï¼Œæ— å‘å›¾ï¼Œæœ‰å‘å›¾ç­‰ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æœ‰å‘å›¾=DiGraph=,å› ä¸ºæ¨èå…³ç³»æ˜¯æœ‰æ–¹å‘çš„ã€‚</li>
</ul>
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è¯»å–æ•°æ®åˆ›å»ºå›¾</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;~/ä¼ é”€åŸå§‹æ•°æ®.xlsx&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;æ¨èäººID&#39;</span><span class="p">,</span> <span class="s1">&#39;è¢«æ¨èäººID&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">from_pandas_edgelist</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">create_using</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">())</span></span></span></code></pre></div>
<p>å½“ç„¶è¿™æ ·åˆ›å»ºçš„å›¾=G=åªæ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–ï¼Œå¹¶ä¸ä¸€å¼ çœŸæ­£å¯è§†åŒ–çš„å›¾ã€‚å¦‚æœä½ æƒ³å¯è§†åŒ–å®ƒï¼Œå¯ä»¥ä½¿ç”¨=pyvis=åŒ…è¿›è¡Œï¼Œå®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªå¯äº¤äº’çš„ç½‘ç»œå›¾ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pyvis.network</span> <span class="kn">import</span> <span class="n">Network</span>
</span></span><span class="line"><span class="cl"><span class="n">nt</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="s1">&#39;650px&#39;</span><span class="p">,</span> <span class="s1">&#39;1250px&#39;</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nt</span><span class="o">.</span><span class="n">from_nx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;test.html&#39;</span><span class="p">)</span></span></span></code></pre></div>
<p>è¿™å°†ä¼šç”Ÿæˆå¦‚å›¾ 2 æ‰€ç¤ºçš„ç½‘ç»œå›¾ã€‚</p>
<h2 id="æ‰¾åˆ°æ ¹èŠ‚ç‚¹">æ‰¾åˆ°æ ¹èŠ‚ç‚¹</h2>
<p>è€ƒè™‘åˆ°è¿™ä¸ªç½‘ç»œæ˜¯ä¸€ä¸ªä¼ é”€ç»„ç»‡ï¼Œé‚£ä¹ˆæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯æœ‰ä¸ªå”¯ä¸€çš„æ ¹èŠ‚ç‚¹ï¼Œæ•´ä¸ªç»„ç»‡ç±»ä¼¼æ ‘çŠ¶ç»“æ„ã€‚</p>
<p>æˆ‘ä»¬å…ˆå¾—æ‰¾åˆ°è¿™ä¸ªæ ¹èŠ‚ç‚¹ï¼Œæ€ä¹ˆæ‰¾å‘¢ï¼Ÿ</p>
<p>è¿™å°±éœ€è¦å…ˆå¼•ä¸€ä¸ªå›¾è®ºä¸­çš„æ¦‚å¿µ<strong>åº¦</strong>ï¼Œåº¦çš„æ„æ€å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹çš„ç›¸é‚»èŠ‚ç‚¹çš„æ•°é‡ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-00-30.png"
         alt="Figure 3: å›¾3"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 3: <!-- raw HTML omitted -->å›¾3</p>
        </figcaption>
</figure>

<p>å¦‚å›¾ 3 æ‰€ç¤ºï¼Œå¦‚æœä¸è€ƒè™‘è¾¹çš„æ–¹å‘ï¼Œé‚£ç‚¹èŠ‚ç‚¹ 1 æœ‰4ä¸ªç›¸é‚»èŠ‚ç‚¹ï¼ˆæœ‰è¾¹ç›¸è¿ï¼‰ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ 1 çš„åº¦å°±æ˜¯ 4 ã€‚</p>
<p>å³<code>degree=4</code>ã€‚</p>
<p>ä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œå°±ä¼šåˆ†æˆ<code>in_degree</code>å’Œ <code>out_degree</code> ä¸¤ç§åº¦ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬è¦æ‰¾åˆ°æ ¹ç»“ç‚¹ï¼Œåªéœ€è¦å»æ‰¾<code>in_degree==0</code>çš„èŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹ï¼ŒåŒç†<code>out_degree==0</code>çš„èŠ‚ç‚¹ä¸ºæœ«çº§èŠ‚ç‚¹ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å†™ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">top_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">in_degree</span><span class="p">()</span> <span class="k">if</span> <span class="n">d</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;root node:&#39;</span><span class="p">,</span> <span class="n">top_nodes</span><span class="p">)</span></span></span></code></pre></div>
<p>å¯ä»¥è®¡ç®—å‡ºæ ¹ç»“ç‚¹ä¸ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">[</span><span class="mi">0</span><span class="p">]</span></span></span></code></pre></div>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-05-56.png"
         alt="Figure 4: å›¾4"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 4: <!-- raw HTML omitted -->å›¾4</p>
        </figcaption>
</figure>

<p>å¦‚å›¾ 4 æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å›¾ä¸­çš„æ ¹èŠ‚ç‚¹ï¼Œå®ƒå°±æ˜¯è¿™ä¸ªç½‘ç»œçš„å¤´ç›®ã€‚</p>
<h2 id="è®¡ç®—ç½‘ç»œå±‚çº§å…³ç³»">è®¡ç®—ç½‘ç»œå±‚çº§å…³ç³»</h2>
<p>ä¸ºäº†è®¡ç®—ç½‘ç»œå±‚çº§å…³ç³»ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ªæ¦‚å¿µ*è·ç¦»*ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„é•¿åº¦ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-13-15.png"
         alt="Figure 5: å›¾5"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 5: <!-- raw HTML omitted -->å›¾5</p>
        </figcaption>
</figure>

<p>å¯¹äºèŠ‚ç‚¹ 1 åˆ°èŠ‚ç‚¹ 4 çš„è·ç¦»ä¸º 3 ï¼Œå› ä¸ºä¸¤æ¡è·¯å¾„å¯ä»¥ä»èŠ‚ç‚¹ 1 åˆ°è¾¾èŠ‚ç‚¹ 3 ï¼š</p>
<ul>
<li>[1, 2, 3, 4]</li>
<li>[1, 2, 5, 4]</li>
</ul>
<p>è¿™ä¸¤æ¡è·¯å¾„æœ€çŸ­çš„è·ç¦»å°±æ˜¯ 3 ã€‚</p>
<p>åœ¨<code>networkx</code>åº“ä¸­æœ‰ä¸ªå‡½æ•°<code>nx.shortest_path_length(G,source,target)</code>å¯ä»¥æ±‚å‡ºèŠ‚ç‚¹<code>source</code>å’Œ <code>target</code> ä¹‹é—´çš„è·ç¦»ã€‚</p>
<p>å¦‚æœçœç•¥<code>target</code>å‚æ•°ï¼Œå°±å¯ä»¥æ±‚å‡º<code>source</code>ä¸‹æ‰€æœ‰èŠ‚ç‚¹ä¸<code>source</code>ä¹‹é—´çš„è·ç¦»ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦ç”¨=nx.shortest_path_length(G, 0)=å°±å¯ä»¥æ±‚å‡º=æ ¹èŠ‚ç‚¹0=ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯*ç½‘ç»œå±‚çº§*ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">level</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path_length</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">)</span></span></span></code></pre></div>
<p><code>level</code> çš„å€¼æ˜¯ä¸‹é¢è¿™æ ·çš„=èŠ‚ç‚¹:è·ç¦»=çš„å­—å…¸ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å…± 32 ä¸ªå±‚çº§ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="mi">2576</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="o">...</span><span class="p">,</span> <span class="mi">5659</span><span class="p">:</span> <span class="mi">32</span><span class="p">}</span></span></span></code></pre></div>
<p>æˆ‘ä»¬æ±‚å‡ºäº†æ‰€æœ‰å­èŠ‚ç‚¹åˆ°æ ¹èŠ‚ç‚¹çš„è·ç¦»<code>level</code>åˆ—è¡¨ï¼Œç”¨<code>set_node_attributes()</code>å‡½æ•°ç»™æ¯ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªå±‚çº§å±æ€§ã€‚</p>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬åªéœ€è¦å°†<code>level</code>åˆ—è¡¨ï¼Œç»Ÿè®¡å‡º 1-32 å±‚çº§ä¸­åˆ†åˆ«æœ‰å“ªäº›èŠ‚ç‚¹å³å¯ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># æ˜¾ç¤ºå±‚çº§</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">level</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="n">nodes</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">nodes</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰“å°å‰10å±‚èŠ‚ç‚¹</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">l</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span></span></span></code></pre></div>
<p>è¿™é‡Œæˆ‘ä»¬å±•ç¤ºå‰ 10 å±‚çº§å¯¹åº”çš„å“ªäº›èŠ‚ç‚¹ï¼š</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-26-39.png"/>
</figure>

<p>å½“ç„¶ï¼Œæˆ‘ä»¬å°†ä¸Šé¢<code>print(l,n)</code>æ›¿æ¢æˆ<code>print(l,len(n))</code>ï¼Œå°±å¯ä»¥çœ‹åˆ°æ¯ä¸€å±‚çº§å¯¹åº”çš„èŠ‚ç‚¹æ•°é‡ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-29-06.png"
         alt="Figure 6: å›¾6"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 6: <!-- raw HTML omitted -->å›¾6</p>
        </figcaption>
</figure>

<h2 id="ä¸‹çº¿å‰10çš„èŠ‚ç‚¹">ä¸‹çº¿å‰10çš„èŠ‚ç‚¹</h2>
<p>æˆ‘ä»¬çŸ¥é“=åº¦=è¡¨ç¤ºäº†ç›¸é‚»èŠ‚ç‚¹æ•°é‡ï¼Œé‚£ä¹ˆåº¦å€¼æœ€å¤§çš„ 10 ä¸ªï¼Œä¹Ÿå°±æ˜¯ä¸‹çº¿æ•°æœ€å¤§çš„ 10 ä¸ªã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">degrees</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">out_degree</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">top_degree_nodes</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">top_degree_nodes</span><span class="p">)</span></span></span></code></pre></div>
<p>è®¡ç®—ç»“æœï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="p">[(</span><span class="mi">2828</span><span class="p">,</span> <span class="mi">264</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">115</span><span class="p">),</span> <span class="p">(</span><span class="mi">2700</span><span class="p">,</span> <span class="mi">86</span><span class="p">),</span> <span class="p">(</span><span class="mi">2833</span><span class="p">,</span> <span class="mi">65</span><span class="p">),</span> <span class="p">(</span><span class="mi">2999</span><span class="p">,</span> <span class="mi">55</span><span class="p">),</span> <span class="p">(</span><span class="mi">2560</span><span class="p">,</span> <span class="mi">53</span><span class="p">),</span> <span class="p">(</span><span class="mi">2574</span><span class="p">,</span> <span class="mi">42</span><span class="p">),</span> <span class="p">(</span><span class="mi">3021</span><span class="p">,</span> <span class="mi">37</span><span class="p">),</span> <span class="p">(</span><span class="mi">2651</span><span class="p">,</span> <span class="mi">36</span><span class="p">),</span> <span class="p">(</span><span class="mi">2834</span><span class="p">,</span> <span class="mi">31</span><span class="p">)]</span></span></span></code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ä¸‹çº¿æœ€å¤šçš„èŠ‚ç‚¹æ˜¯<code>èŠ‚ç‚¹2828</code>æœ‰ 264 ä¸ªä¸‹çº¿ï¼Œç¬¬äºŒæ˜¯<code>æ ¹èŠ‚ç‚¹0</code>æœ‰ 115 ä¸ªä¸‹çº¿ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-33-59.png"
         alt="Figure 7: å›¾7"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 7: <!-- raw HTML omitted -->å›¾7</p>
        </figcaption>
</figure>

<p>è¿™äº›èŠ‚ç‚¹è¡¨ç°åœ¨å›¾ä¸­å°±æ˜¯åƒæ°´æ¯ä¸€æ ·çš„ä¸­å¿ƒèŠ‚ç‚¹ã€‚</p>
<h2 id="æœ€å¤§ä»‹ç»top10">æœ€å¤§ä»‹ç»top10</h2>
<p>é™¤äº†é€šè¿‡=åº¦=æ¥è¡¡é‡ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦ä¸ºå…³é”®èŠ‚ç‚¹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä»‹æ•°æ¥è¡¡é‡ã€‚</p>
<p>å¦‚å›¾ 8 æ‰€ç¤ºï¼Œæ ¹èŠ‚ç‚¹ 0 ä¼ é€’åˆ°èŠ‚ç‚¹1,èŠ‚ç‚¹2,èŠ‚ç‚¹3&hellip;.</p>
<p>å…¶ä¸­èŠ‚ç‚¹2,èŠ‚ç‚¹ 5 çš„åº¦éå¸¸å°ï¼Œåˆ†åˆ«ä¸º 2 å’Œ1,ä½†æ˜¯å¦‚æœå°‘äº†ä»–ä»¬çš„è¯ï¼Œåé¢æ•´ä¸ªç½‘ç»œå°±æ–­äº†ã€‚</p>
<p>ä»‹æ•°å°±æ˜¯è¡¨ç¤ºç½‘ç»œä¸­ç¾¤ä½“ä¸ç¾¤ä½“ä¹‹é—´çš„ä¸­é—´äººè§’è‰²ï¼Œç°å®ç”Ÿæ´»ä¸­å¦‚æœåº¦æ•°å¤§çš„æ˜¯é»„ç‰›ï¼Œé‚£ä¹ˆè¿™ä¸ªä»‹æ•°çš„ä¸­é—´äººå°±æ˜¯ç»™é»„ç‰›æä¾›æ¸ é“çš„å…³é”®äººç‰©ã€‚</p>
<figure><img src="https://tujiabing-1258622425.cos.ap-chengdu.myqcloud.com/image_2022-07-31-23-37-04.png"
         alt="Figure 8: å›¾8"/><figcaption>
            <p><!-- raw HTML omitted -->Figure 8: <!-- raw HTML omitted -->å›¾8</p>
        </figcaption>
</figure>

<p>æˆ‘ä»¬åœ¨å›¾ä¸­å°†å‰ 10 å¤§ä¸­ä»‹ç‚¹æ ‡è®°æˆäº†ç»¿è‰²ï¼Œæ–¹ä¾¿æŸ¥çœ‹ã€‚</p>
<h2 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h2>
<p>ä»¥ä¸Šåˆ†æçš„å®Œæ•´ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pyvis.network</span> <span class="kn">import</span> <span class="n">Network</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># è¯»å–æ•°æ®åˆ›å»ºå›¾</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;~/ä¼ é”€åŸå§‹æ•°æ®.xlsx&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="p">[</span><span class="s1">&#39;æ¨èäººID&#39;</span><span class="p">,</span> <span class="s1">&#39;è¢«æ¨èäººID&#39;</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">from_pandas_edgelist</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="n">create_using</span><span class="o">=</span><span class="n">nx</span><span class="o">.</span><span class="n">DiGraph</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ±‚æ ¹èŠ‚ç‚¹</span>
</span></span><span class="line"><span class="cl"><span class="n">top_nodes</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">in_degree</span><span class="p">()</span> <span class="k">if</span> <span class="n">d</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;root node:&#39;</span><span class="p">,</span> <span class="n">top_nodes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># èŠ‚ç‚¹å±‚çº§</span>
</span></span><span class="line"><span class="cl"><span class="n">level</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">shortest_path_length</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nx</span><span class="o">.</span><span class="n">set_node_attributes</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ˜¾ç¤ºå±‚çº§</span>
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">level</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="n">nodes</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">nodes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="n">nodes</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span><span class="p">[</span><span class="n">l</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰“å°å‰10å±‚èŠ‚ç‚¹</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">l</span><span class="p">,</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nb">print</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ‰“å°å‰10å¤§åº¦èŠ‚ç‚¹</span>
</span></span><span class="line"><span class="cl"><span class="n">degrees</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">out_degree</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">top_degree_nodes</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">top_degree_nodes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ç»™èŠ‚ç‚¹æ·»åŠ å±æ€§</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">level</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;level&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ç»™èŠ‚ç‚¹æ·»åŠ å¤§å°å±äº</span>
</span></span><span class="line"><span class="cl">    <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">32</span> <span class="o">-</span> <span class="n">level</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ç¬¬ä¸€ã€äºŒã€ä¸‰å±‚èŠ‚ç‚¹æ·»åŠ é¢œè‰²</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fuchsia&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;purple&#39;</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ä¸­ä»‹ç‚¹</span>
</span></span><span class="line"><span class="cl"><span class="n">center</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">betweenness_centrality</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">center_tops</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">center</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="c1"># ç»™å‰10å¤§ä¸­ä»‹ç‚¹æ·»åŠ é¢œè‰²</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">center_tops</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">G</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;teal&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">nx</span><span class="o">.</span><span class="n">write_gexf</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s1">&#39;test.gexf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nt</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="s1">&#39;650px&#39;</span><span class="p">,</span> <span class="s1">&#39;1250px&#39;</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nt</span><span class="o">.</span><span class="n">from_nx</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">nt</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="s1">&#39;test.html&#39;</span><span class="p">)</span></span></span></code></pre></div>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>networkxæ˜¯å¤æ‚ç½‘ç»œåˆ†æçš„åˆ©å™¨ï¼Œæ­é…ä¸Šå¯è§†åŒ–åº“ pyvis ï¼Œå¯ä»¥ç®€å•å‡ è¡Œä»£ç å®Œæˆåˆ†æå’Œå¯è§†åŒ–ã€‚</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>æ›´æ–°äº 2023-02-11</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/index.md" target="_blank">é˜…è¯»åŸå§‹æ–‡æ¡£</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="åˆ†äº«åˆ° Twitter" data-sharer="twitter" data-url="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" data-title="ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ" data-hashtags="ç½‘ç»œåˆ†æ,python,ITå®¡è®¡"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Facebook" data-sharer="facebook" data-url="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" data-hashtag="ç½‘ç»œåˆ†æ"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Hacker News" data-sharer="hackernews" data-url="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" data-title="ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° Line" data-sharer="line" data-url="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" data-title="ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="åˆ†äº«åˆ° å¾®åš" data-sharer="weibo" data-url="https://nigo81.github.io/posts/20220814001303-%E4%BC%A0%E9%94%80%E7%BB%84%E7%BB%87%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%E5%88%86%E6%9E%90/" data-title="ä¼ é”€ç»„ç»‡å±‚çº§ç»“æ„åˆ†æ"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/%E7%BD%91%E7%BB%9C%E5%88%86%E6%9E%90/">ç½‘ç»œåˆ†æ</a>,&nbsp;<a href="/tags/python/">python</a>,&nbsp;<a href="/tags/it%E5%AE%A1%E8%AE%A1/">ITå®¡è®¡</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">è¿”å›</a></span>&nbsp;|&nbsp;<span><a href="/">ä¸»é¡µ</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/20220814214405-%E7%8B%97%E5%93%A5%E5%8E%BB%E7%85%A7%E7%9B%B8%E9%A6%86/" class="prev" rel="prev" title="ç‹—å“¥å»ç…§ç›¸é¦†"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>ç‹—å“¥å»ç…§ç›¸é¦†</a>
            <a href="/posts/20220814214721-%E8%B6%85%E8%83%BD%E8%8B%B1%E9%9B%84/" class="next" rel="next" title="è¶…èƒ½è‹±é›„">è¶…èƒ½è‹±é›„<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">ç”± <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.110.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2023</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">nigo</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="å›åˆ°é¡¶éƒ¨">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="æŸ¥çœ‹è¯„è®º">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":50},"comment":{},"search":{"algoliaAppID":"L2PH9BYQ9X","algoliaIndex":"nigo81.gitee.io","algoliaSearchKey":"19987eb6158ae8873649ad30bbb5cea5","highlightTag":"em","maxResultLength":10,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
